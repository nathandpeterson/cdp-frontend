(window["webpackJsonpcdp-frontend"]=window["webpackJsonpcdp-frontend"]||[]).push([[0],{206:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=206},237:function(e,t,n){e.exports=n(496)},242:function(e,t,n){},496:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(51),i=n.n(c),o=(n(242),n(30)),u=n(45),l=n(142),s=n(503),m=n(10),p=m.a.h1({}),f=Object(m.a)("span")({transition:".8s all",borderRadius:"5px",padding:"1rem .5rem",marginLeft:"-.5rem",":hover":{backgroundColor:"#F5F5F5",color:"black"}}),d=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{vertical:!0},r.a.createElement(s.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(p,null,"Council Data Project")))),r.a.createElement(l.a,{vertical:!0},r.a.createElement(s.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(f,null,"Events")),r.a.createElement(o.b,{to:"/people"},r.a.createElement(f,{style:{marginLeft:"10px"}},"People")))))},h=n(229),v=n(510),E=n(506),b=function(){return r.a.createElement(l.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(s.a,null,r.a.createElement(h.a,{inverted:!0,stackable:!0},r.a.createElement(h.a.Row,{columns:"equal"},r.a.createElement(h.a.Column,null,r.a.createElement(v.a,{inverted:!0,as:"h4",content:"About"}),r.a.createElement(E.a,{link:!0,inverted:!0},r.a.createElement(E.a.Item,{as:"a"},"The Project"),r.a.createElement(E.a.Item,{as:"a"},"The Team"),r.a.createElement(E.a.Item,{as:"a"},"Other Work"))),r.a.createElement(h.a.Column,null,r.a.createElement(v.a,{inverted:!0,as:"h4",content:"Seattle"}),r.a.createElement(E.a,{link:!0,inverted:!0},r.a.createElement(E.a.Item,{as:"a"},"City of Seattle"),r.a.createElement(E.a.Item,{as:"a"},"Seattle Open Data"),r.a.createElement(E.a.Item,{as:"a"},"Seattle Channel"))),r.a.createElement(h.a.Column,null,r.a.createElement(v.a,{inverted:!0,as:"h4",content:"Developers"}),r.a.createElement(E.a,{link:!0,inverted:!0},r.a.createElement(E.a.Item,{as:"a"},"Council Data Project"),r.a.createElement(E.a.Item,{as:"a"},"Seattle Specific"),r.a.createElement(E.a.Item,{as:"a"},"Transcription Runner")))),r.a.createElement(h.a.Row,null,r.a.createElement("p",null,"This web application is not funded by, nor associated with the Seattle City Council. This is a prototype web application to show the viability of an automated and collaborativly sourced city council transcription service. The transcripts are roughly ninty-percent accurate, and therefore may not represent what was actually said.")))))},y=n(8),O=n.n(y),w=n(19),j=n(21),g=n(504),x=n(497),_=Object(m.a)(s.a)({minHeight:"100vh"}),k=Object(m.a)(s.a)({marginTop:"2em !important",marginBottom:"5em !important"}),P=Object(m.a)(g.a)({width:"50% !important"}),S=Object(m.a)(h.a)({display:"block",marginTop:"150px !important"}),C=function(){var e=r.a.useState(),t=Object(j.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(w.a)(O.a.mark(function e(t,n){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,a(r);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(_,null,r.a.createElement(k,null,r.a.createElement(S,{verticalAlign:"middle",centered:!0},r.a.createElement(h.a.Row,null,r.a.createElement("h1",null,"Search City Council Transcripts")),r.a.createElement(h.a.Row,null,r.a.createElement(P,{placeholder:"Enter a keyword to search meeting transcripts",value:n,onChange:c}),r.a.createElement(x.a,{attached:"right",primary:!0,as:o.b,to:"/search?q=".concat(n)},"Search")))))},D=n(221),I=n.n(D),H=n(57),T=n(80),R=n(81),B=n.n(R),M=n(223),L=n.n(M),U=n(46);n(474);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(H.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}T.initializeApp({apiKey:"AIzaSyA7aO6weBcOUBZLmxE3aMyn4NeElVEHZUc",authDomain:"cdp-sea.firebaseapp.com",projectId:"cdp-seattle",databaseURL:"https://cdp-sea.firebaseio.com"});var W=T.firestore();function Y(e){return V.apply(this,arguments)}function V(){return(V=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.forEach(function(e){var t=e.data(),a=z({id:e.id},t);n.push(a)}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){return q.apply(this,arguments)}function q(){return(q=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.collection(t).get().catch(function(e){console.err("err---\x3e",e)});case 2:return n=e.sent,e.abrupt("return",Y(n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(w.a)(O.a.mark(function e(t,n,a){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.collection(t).where(n,"==",a).get().catch(function(e){console.err("err---\x3e",e)});case 3:return r=e.sent,e.abrupt("return",Y(r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Z(e,t){return G.apply(this,arguments)}function G(){return(G=Object(w.a)(O.a.mark(function e(t,n){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.collection(t).doc(n).get();case 3:return a=e.sent,e.abrupt("return",a.data());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function K(e){return $.apply(this,arguments)}function $(){return($=Object(w.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){Object(H.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee=T.storage();function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("event_minutes_item","event_id",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i,o,u,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("event_minutes_item",t);case 3:return n=e.sent,a=n.minutes_item_id,r=n.created,c=n.decision,i=n.event_id,o=n.index,e.next=11,Z("minutes_item",a);case 11:return u=e.sent,e.next=14,N("minutes_item_file","minutes_item_id",a);case 14:return l=e.sent,e.abrupt("return",{id:t,created:r,decision:c,event_id:i,index:o,minutes_item:X({id:a},u,{file:l})});case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 21:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("body",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("transcript","event_id",t);case 3:return n=e.sent,a=Object(j.a)(n,1),r=a[0],e.next=8,Z("file",r.file_id);case 8:return c=e.sent,i=ee.refFromURL(c.uri),e.next=12,i.getDownloadURL().then(function(e){return K(e)});case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return(se=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("event_minutes_item","event_id",t);case 2:return n=e.sent,a=n.filter(function(e){return null!==e.decision}),e.next=6,A("minutes_item");case 6:return r=e.sent,c=[],a.forEach(function(e){var t=r.find(function(t){return t.id===e.minutes_item_id});c.push({matter:t.matter,name:t.name,id:e.id,decision:e.decision})}),e.next=11,A("person");case 11:return i=e.sent,o=[],c.forEach(function(e){var t=N("vote","event_minutes_item_id",e.id);o.push(t)}),e.next=16,Promise.all(o).then(function(e){e.forEach(function(e){var t=e[0].event_minutes_item_id,n=c.find(function(e){return e.id===t}),a=[];e.forEach(function(e){var t=i.find(function(t){return t.id===e.person_id});a.push({decision:e.decision,person_id:e.person_id,full_name:t.full_name})}),n.formattedIndividualVotes=a})});case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("event",t);case 3:return n=e.sent,e.next=6,ce(n.body_id);case 6:return a=e.sent,e.next=9,te(t);case 9:return r=e.sent,e.next=12,Promise.all(r.map(function(e){return ae(e.id)}));case 12:return c=e.sent,e.next=15,oe(t);case 15:return i=e.sent,e.abrupt("return",{id:t,name:a.name,description:a.description,videoUrl:n.video_uri,date:B.a.utc(n.event_datetime.toDate()).format("MM-DD-YYYY HH:MM:SS"),minutes:Object(U.sortBy)(c,function(e){return e.index}),transcript:i.data,scPageUrl:n.source_uri});case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 22:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function fe(e){return de.apply(this,arguments)}function de(){return(de=Object(w.a)(O.a.mark(function e(t){var n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("event",t);case 3:return n=e.sent,e.next=6,ce(n.body_id);case 6:return a=e.sent,e.abrupt("return",{id:t,name:a.name,description:a.description,date:B.a.utc(n.event_datetime.toDate()).format("MM-DD-YYYY HH:MM:SS")});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function he(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=10,e.prev=1,L.a.PorterStemmer.attach(),a=t.tokenizeAndStem(),e.next=6,Promise.all(a.map(function(e){return N("indexed_event_term","term",e)}));case 6:return r=e.sent,c=Object(U.mapValues)(Object(U.groupBy)(Object(U.flatten)(r),function(e){return e.event_id}),function(e,t){return e.reduce(function(e,t){return X({},e,{value:e.value+t.value})},{event_id:t,value:0})}),i=Object(U.reverse)(Object(U.sortBy)(Object(U.filter)(c,function(e){return e.value>=n}),function(e){return e.value})),e.next=11,Promise.all(i.map(function(e){return fe(e.event_id)}));case 11:return o=e.sent,e.abrupt("return",o);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}var Ee=n(508),be=Object(m.a)(Ee.a)({boxShadow:"none !important"}),ye=Object(m.a)(Ee.a.Content)({padding:"0 !important"}),Oe=function(e){var t=e.name,n=e.date,a=e.description,c=e.link;return r.a.createElement(be,{fluid:!0},r.a.createElement(ye,null,r.a.createElement(Ee.a.Header,null,r.a.createElement(o.b,{to:c},t)),r.a.createElement(Ee.a.Meta,null,n),r.a.createElement(Ee.a.Description,null,a)))},we=function(e){var t=e.events;return r.a.createElement(Ee.a.Group,{centered:!0},t.map(function(e){var t=e.name,n=e.date,a=e.description,c=e.id;return r.a.createElement(Oe,{name:t,date:n,description:a,link:"/events/".concat(c)})}))},je=Object(m.a)(g.a)({width:"50% !important",margin:"1em 0 3em !important"}),ge=function(e){var t=e.query,n=r.a.useState(t),a=Object(j.a)(n,2),c=a[0],i=a[1],o=r.a.useState(!1),u=Object(j.a)(o,2),l=u[0],s=u[1],m=r.a.useState([]),p=Object(j.a)(m,2),f=p[0],d=p[1];r.a.useEffect(function(){Object(w.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=7;break}return s(!0),e.next=4,he(c);case 4:t=e.sent,d(t),s(!1);case 7:case"end":return e.stop()}},e)}))()},[]);var h=function(){var e=Object(w.a)(O.a.mark(function e(t,n){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.value,i(a),s(!0),e.next=5,he(a);case 5:r=e.sent,d(r),s(!1);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,{placeholder:"Search by event name",value:c,onChange:h,loading:l}),r.a.createElement(we,{events:f}))},xe=Object(m.a)(s.a)({minHeight:"100vh"}),_e=Object(m.a)(s.a)({marginTop:"2em !important",marginBottom:"5em !important"}),ke=function(e){var t=e.location,n=I.a.parse(t.search).q;return r.a.createElement(xe,null,r.a.createElement(_e,null,r.a.createElement(ge,{query:n})))},Pe=n(505),Se=n(509),Ce=n(43);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(n,!0).forEach(function(t){Object(H.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function He(){return Te.apply(this,arguments)}function Te(){return(Te=Object(w.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("person");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(w.a)(O.a.mark(function e(t){var n,a,r,c,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Z("person",t);case 3:return a=e.sent,e.next=6,N("vote","person_id",t);case 6:return r=e.sent,e.next=9,A("event_minutes_item");case 9:return c=e.sent,e.next=12,A("minutes_item");case 12:return i=e.sent,r.forEach(function(e){var t=c.find(function(t){return t.id===e.event_minutes_item_id}),a=i.find(function(e){return e.id===t.minutes_item_id}),r=Ie({},e,{},a,{voteForPerson:e.decision,decision:t.decision,eventId:t.event_id});n.push(r)}),e.abrupt("return",Ie({},a,{votes:n}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Me=n(507),Le=[{accessor:"matter",text:"Matter",width:"2"},{accessor:"decision",text:"Decision",width:"2"},{accessor:"name",text:"Name",width:"6"},{accessor:"votingRecords",text:"Vote",width:"4"}],Ue=Object(m.a)("div")({display:"flex"}),Fe=Object(m.a)("div")({width:"50%"}),ze=function(e){var t=e.votingData,n=e.isPerson;return r.a.createElement(Me.a,{striped:!0},r.a.createElement(Me.a.Header,null,r.a.createElement(Me.a.Row,null,Le.map(function(e){return r.a.createElement(Me.a.HeaderCell,{key:e.text,width:e.width},e.text)}),n&&r.a.createElement(Me.a.HeaderCell,null,"Event"))),r.a.createElement(Me.a.Body,null,t.map(function(e){return r.a.createElement(Me.a.Row,null,Le.map(function(t){return"votingRecords"!==t.accessor?r.a.createElement(Me.a.Cell,{key:t.accessor},e[t.accessor]):e.formattedIndividualVotes?r.a.createElement(Me.a.Cell,null,e.formattedIndividualVotes.map(function(e){return r.a.createElement(Ue,{key:e.full_name},r.a.createElement(Fe,null,e.full_name),r.a.createElement(Fe,null,e.decision))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a.Cell,null,e.voteForPerson),r.a.createElement(Me.a.Cell,null,r.a.createElement(o.b,{to:"/events/".concat(e.eventId)},r.a.createElement(Ce.a,{name:"linkify"}))))}))})))},We=Object(m.a)("div")({minHeight:"100px",width:"100%"}),Ye=function(e){var t=e.votingData;return t?t.length?r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ze,{votingData:t})):r.a.createElement("div",null,"No votes found for this event."):r.a.createElement(We,null,r.a.createElement(Pe.a,{active:!0}))},Ve=function(e){var t=e.eventId,n=Object(a.useState)(null),c=Object(j.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)(function(){function e(){return(e=Object(w.a)(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t]),r.a.createElement(Ye,{votingData:i})},Ae=n(224),qe=n.n(Ae),Ne=n(225),Je=n.n(Ne);var Ze=function(e){e=parseInt(e,10);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),a<10&&(a="0"+a),t+":"+n+":"+a},Ge=m.a.h1({width:"100%",marginBottom:"5px !important"}),Ke=m.a.span({display:"block",color:"grey",fontWeight:"400"}),$e=m.a.h2({width:"100%"}),Qe=Object(m.a)(g.a)({width:"100%",fontSize:"16px !important",lineHeight:"1.5 !important"}),Xe=m.a.span({display:"block",marginTop:"1em",color:"grey",paddingLeft:"15px"}),et=m.a.div({width:"100%",margin:"1em 0",padding:"14px"}),tt=Object(m.a)(Je.a)({fontSize:"16px !important",lineHeight:"1.5 !important"}),nt=m.a.span({display:"block",marginTop:"1em",fontSize:"16px !important",lineHeight:"1.5 !important",paddingLeft:"15px"}),at=m.a.div({overflowY:"scroll",maxHeight:"228px",marginTop:"1em",border:"1px solid lightgrey",borderRadius:"0.28rem"}),rt=Object(m.a)(x.a)({padding:"5px 8px !important",marginBottom:"8px !important",marginTop:"8px !important",display:"block !important"}),ct=Object(m.a)(Se.a)({"a.item":{fontSize:"20px !important"}}),it=Object(m.a)(Se.a.Pane)({border:"none !important",boxShadow:"none !important",WebkitBoxShadow:"none !important",fontSize:"16px !important",lineHeight:"1.5 !important"}),ot=function(e){var t=e.id,n=e.title,a=e.date,c=e.minutes,i=e.scPageUrl,o=e.videoUrl,u=e.transcript,l=r.a.useRef(null),s=r.a.useState(u),m=Object(j.a)(s,2),p=m[0],f=m[1],d=r.a.useState(""),v=Object(j.a)(d,2),b=v[0],y=v[1],O=function(e){l.current.seekTo(parseFloat(e)),window.scroll({top:0,left:0,behavior:"smooth"})},w=[{menuItem:"Details",render:function(){return r.a.createElement(it,{attached:!1},r.a.createElement(h.a.Row,null,r.a.createElement("h3",null,"Minutes"),r.a.createElement(E.a,{ordered:!0},c.map(function(e,t){var n=e.minutes_item;return r.a.createElement(E.a.Item,null,n.name)}))),r.a.createElement(h.a.Row,{style:{marginTop:"1em"}},r.a.createElement("h3",null,"Links"),r.a.createElement(E.a,null,r.a.createElement(E.a.Item,null,r.a.createElement("a",{href:i},"Seattle Channel Event Page")))))}},{menuItem:"Transcript",render:function(){return r.a.createElement(it,{attached:!1},u.map(function(e,t){var n=e.text,a=e.start_time;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,{width:"2"},r.a.createElement(rt,{size:"tiny",onClick:function(){return O(a)}},r.a.createElement(Ce.a,{name:"play"}),Ze(a))),r.a.createElement(h.a.Column,{width:"14"},r.a.createElement("span",{style:{display:"inline-block",paddingTop:"8px"}},n))))}),r.a.createElement(h.a.Row,null))}},{menuItem:"Votes",render:function(){return r.a.createElement(it,{attached:!1},r.a.createElement(h.a.Row,null,r.a.createElement(Ve,{eventId:t})))}}];return r.a.createElement(h.a,{stackable:!0},r.a.createElement(h.a.Row,{style:{padding:"0 14px"}},r.a.createElement(Ge,null,n),r.a.createElement(Ke,null,"Meeting Date: ",B()(a).format("LLL"))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,{width:"10"},r.a.createElement(qe.a,{ref:l,url:o,controls:!0})),r.a.createElement(h.a.Column,{width:"6"},r.a.createElement($e,null,"Search Transcript"),r.a.createElement(Qe,{onChange:function(e,t){var n=t.value;y(n),f(u.filter(function(e){var t,a=e.text;return t=n,-1!==a.toLowerCase().indexOf(t.toLowerCase())}))},value:b,placeholder:"Search transcript"}),""!==b&&r.a.createElement(Xe,null,p.length," results"),""!==b&&p.length>0&&r.a.createElement(at,null,p.map(function(e){var t=e.text,n=e.start_time;return r.a.createElement(et,null,r.a.createElement(tt,{searchWords:[b],autoEscape:!0,textToHighlight:t}),r.a.createElement(rt,{size:"tiny",onClick:function(){return O(n)}},r.a.createElement(Ce.a,{name:"play"}),Ze(n)))})),""===b&&r.a.createElement(nt,null,"Enter a search term to get results."))),r.a.createElement(ct,{menu:{secondary:!0,pointing:!0},panes:w}))},ut=function(e){var t=e.id,n=r.a.useState(),a=Object(j.a)(n,2),c=a[0],i=a[1];return r.a.useEffect(function(){try{Object(w.a)(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}},e)}))()}catch(e){}},[]),c?r.a.createElement(ot,{id:t,title:c.name,date:c.date,description:c.description,scPageUrl:c.scPageUrl,videoUrl:c.videoUrl,minutes:c.minutes,transcript:c.transcript}):r.a.createElement(Pe.a,{active:!0})},lt=Object(m.a)(s.a)({minHeight:"100vh"}),st=Object(m.a)(s.a)({marginTop:"2em !important",marginBottom:"5em !important"}),mt=function(e){var t=e.match;return r.a.createElement(lt,null,r.a.createElement(st,null,r.a.createElement(ut,{id:t.params.id})))},pt=Object(m.a)("div")({display:"flex",flexWrap:"wrap"}),ft=Object(m.a)("div")({width:"250px",border:"1px solid #d4d4d5",boxShadow:"0 1px 3px 0 #d4d4d5",padding:"1.5rem",marginBottom:"1.5rem",borderRadius:"3px",marginRight:"2rem",cursor:"pointer",transition:".4s all",":hover":{transform:"scale(1.15)"}}),dt=Object(m.a)("h5")({fontWeight:600,fontSize:"1.2rem"}),ht=Object(u.f)(function(e){var t=e.people,n=e.history;return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Voting History"),r.a.createElement(pt,null,t.map(function(e){var t=e.full_name,a=e.email,c=e.id;return r.a.createElement(ft,{key:t,onClick:function(){return n.push("/people/".concat(c))}},r.a.createElement(dt,null,t),r.a.createElement("p",null,"City Council Member"),r.a.createElement("a",{href:"mailto:".concat(a)},a))})))}),vt=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){function e(){return(e=Object(w.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),n?r.a.createElement(ht,{people:n}):r.a.createElement(Pe.a,{active:!0})},Et=Object(m.a)(s.a)({minHeight:"100vh"}),bt=Object(m.a)(s.a)({marginTop:"2em !important",marginBottom:"5em !important"}),yt=function(){return r.a.createElement(Et,null,r.a.createElement(bt,null,r.a.createElement(vt,null)))},Ot=Object(m.a)("div")({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}),wt=function(e){var t=e.personHistory,n=t.full_name,a=t.email,c=t.phone,i=t.website,o=t.votes;return r.a.createElement(Ot,null,r.a.createElement(Ee.a,{style:{padding:"1rem",width:"100%"}},r.a.createElement(Ee.a.Header,null,n),r.a.createElement("a",{href:"mailto:".concat(a)},a),r.a.createElement("div",null,c),r.a.createElement("div",null,"Website:",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},i))),r.a.createElement(ze,{votingData:o,isPerson:!0}))},jt=Object(u.f)(function(e){var t=e.match.params.id,n=Object(a.useState)(null),c=Object(j.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)(function(){function e(){return(e=Object(w.a)(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t]),i?r.a.createElement(wt,{personHistory:i}):r.a.createElement(Pe.a,{active:!0})}),gt=Object(m.a)(s.a)({minHeight:"100vh"}),xt=Object(m.a)(s.a)({marginTop:"2em !important",marginBottom:"5em !important"}),_t=function(){return r.a.createElement(gt,null,r.a.createElement(xt,null,r.a.createElement(jt,null)))},kt=function(){return r.a.createElement(o.a,null,r.a.createElement(d,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:C}),r.a.createElement(u.a,{path:"/search",component:ke}),r.a.createElement(u.a,{path:"/events/:id",component:mt}),r.a.createElement(u.a,{exact:!0,path:"/people",component:yt}),r.a.createElement(u.a,{exact:!0,path:"/people/:id",component:_t})),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[237,1,2]]]);
//# sourceMappingURL=main.6afee02d.chunk.js.map